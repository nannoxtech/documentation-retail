This endpoint allows money to be deposited into the user's wallet.

### Endpoint
|Method|URL|
|:---: |:--- |
|POST|https://domain.com/api/retail-sa/credit|

### Headers
|Name|Type|Mandatory|Default|Description|
|:--- |:---: |:---: |:--- |:--- |
|Accept|string|Yes|application/json|Content type header. The default value should not be modified.|
|Authorization|string|Yes|Bearer {token}|Token received in the authentication method.|

### Parameters
|Name|Type|Mandatory|Description|
|:--- |:---: |:---: |:---|
|dni|string|Yes|User DNI.|
|amount|string|Yes|Amount to be credited.|
|currency|string|Yes|Amount currency.|
|reference|string|Yes|Reference for the deposit. It must be unique.|


### Request example

``` curlrc
curl --location 'https://domain.com/api/retail-sa/credit' \
--header 'Accept: application/json' \
--header 'Authorization: Bearer 1|naWUbVVHhva9XC1cmNegnTB95u7mo7daqNWsJC6oedb48bca' \
--form 'dni="123456789"' \
--form 'amount="1"' \
--form 'currency="PYG"' \
--form 'reference="12345623433"'
```

### Correct response

This response is returned when the credentials are correct.

``` json
{
    "status": "OK",
    "code": 200,
    "data": {
        "title": "Transaction performed",
        "message": "The transaction was successfully made to the user",
        "balance": "13249.75"
    }
}
```

**Note:** The token must be stored to be used on the other endpoints.

### Wallet not found

This response is returned when the user does not have a wallet in the sent currency.

``` json
{
    "status": "ERROR",
    "code": 404,
    "data": {
        "title": "Wallet not found",
        "message": "The user does not have wallets in the PYG currency"
    }
}
```

### Required parameters

This response is returned when one or more required parameters are not sent.

``` json
{
    "message": "The given data was invalid",
    "errors": {
        "dni": [
            "The DNI field is required"
        ],
        "amount": [
            "The amount field is required"
        ]
    }
}
```

### Duplicate transaction

This response is returned when the deposit reference is duplicated.

``` json
{
    "status": "ERROR",
    "code": 403,
    "data": {
        "title": "Duplicate transaction",
        "message": "The reference sent is already registered in the system"
    }
}
```

### Internal error

This response is returned when an unexpected error occurred within the API that prevents its correct execution.

``` json
{
    "status": "FAILED",
    "code": 500,
    "data": {
        "message": "Could not load/save data"
    }
}
```